<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f7f7f7; }
        h1 { color: #333; }
        .habit { background: #fff; padding: 10px; margin: 10px 0; border-radius: 8px; }
        .progress-bar {
            height: 20px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background: #4CAF50;
            width: 0%;
            transition: width 0.3s;
        }
        button { padding: 5px 10px; cursor: pointer; margin: 5px; }
    </style>
</head>
<body>
    <h1>Habit Tracker</h1>

    <input type="text" id="habitInput" placeholder="Enter habit">
    <button onclick="addHabit()">Add Habit</button>

    <div id="habitList"></div>

    <script>
        let habits = JSON.parse(localStorage.getItem('habits')) || [];

        function saveHabits() {
            localStorage.setItem('habits', JSON.stringify(habits));
        }

        function renderHabits() {
            const list = document.getElementById('habitList');
            list.innerHTML = '';
            habits.forEach((habit, index) => {
                let percent = (habit.completedDays / habit.totalDays) * 100 || 0;
                list.innerHTML += `
                    <div class="habit">
                        <strong>${habit.name}</strong>  
                        <p>Streak: ${habit.streak} days</p>
                        <div class="progress-bar"><div class="progress" style="width: ${percent}%;"></div></div>
                        <button onclick="markComplete(${index})">Mark Complete</button>
                        <button onclick="deleteHabit(${index})">Delete</button>
                    </div>
                `;
            });
        }

        function addHabit() {
            const name = document.getElementById('habitInput').value.trim();
            if (name) {
                habits.push({ name, streak: 0, completedDays: 0, totalDays: 7, lastCompleted: null });
                saveHabits();
                renderHabits();
                document.getElementById('habitInput').value = '';
            }
        }

        function markComplete(index) {
            const today = new Date().toDateString();
            if (habits[index].lastCompleted !== today) {
                habits[index].streak += 1;
                habits[index].completedDays += 1;
                habits[index].lastCompleted = today;
                saveHabits();
                renderHabits();
            } else {
                alert("Already completed today!");
            }
        }

        function deleteHabit(index) {
            habits.splice(index, 1);
            saveHabits();
            renderHabits();
        }

        renderHabits();
    </script>
</body>
</html>
